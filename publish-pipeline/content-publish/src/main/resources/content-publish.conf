include "base-config.conf"

job {
  env = "sunbirddev"
}

kafka {
  input.topic = "sunbirddev.learning.job.request"
  post_publish.topic = "sunbirddev.content.postpublish.request"
  groupId = "local-questionset-publish-group" // what is this
  topic.system.command = "sunbirddev.system.command"
}

task {
  consumer.parallelism = 1
  parallelism = 1
  router.parallelism = 1
}

content {
  keyspace.name = "dev_content_store"
  data.table = "content_data"
  hierarchy.table = "content_hierarchy"
  media.base.url = "https://dev.sunbirded.org"
  nested.fields = "badgeAssertions,targets,badgeAssociations"
  cache.read = true
  cache.hierarchy = true
  tagging.backward_enable=true
  tagging.property="subject,medium"
  upload.context.driven=true
}



# Content Publish api specific configuration

redis {
  host = "11.2.4.22"
  port = 6379
  maxConnections = 128
}
akka {
  request_timeout = 600
}
environment {
  id = 10000000
}
graph {
  passport.key.base = jd5ECm/o0BXwQCe8PfZY1NoUkB9HN41QjA80p22MKyRIcP5RW4qHw8sZztCzv87M
}

route {
  domain = "bolt://11.2.3.24:7687"
  bolt.read.domain = "bolt://11.2.3.24:7687"
  bolt.write.domain = "bolt://11.2.3.24:7687"
  all = "bolt://11.2.3.24:8687"
  bolt.read.all = "bolt://11.2.3.24:8687"
  bolt.write.all = "bolt://11.2.3.24:8687"
}

shard {
  id = 1
}

assessment{
  keyspace.name = "dev_content_store"
}
hierarchy{
  keyspace.name = "dev_hierarchy_store"
}

graph {
  dir="/data/graphDB"
  ids = ["domain","language","en","hi","ka","te","ta"]
}

platform {
  cache.ttl = "3600000"
}

cloud_storage {
  env = "sunbirddev"
  content.folder = "content"
  itemset.folder = "itemset"
  asset.folder = "assets"
  artefact.folder = "artifact"
  bundle.folder = "bundle"
  media.folder = "media"
  ecar.folder = "ecar_files"
  upload.url.ttl = "600"
}

plugin {
  media.base.url = "https://dev.sunbirded.org"
}

stream {
  mime.type = "video/mp4,video/webm"
  keyspace.name = "sunbirddev_platform_db"
  keyspace.table = "job_request"
}

cassandra {
  lp.connection = "11.2.3.66:9042,11.2.3.64:9042,11.2.3.63:9042"
  lpa.connection = "11.2.3.59:9042"
  lp.consistency.level = "QUORUM"
}

platform-api-url="http://11.2.4.22:8080/learning-service"
ekstepPlatformApiUserId="ilimi"
dist.directory="/tmp/dist/"
output.zipfile="/tmp/story.zip"
source.folder="/tmp/temp2/"
save.directory="/tmp/temp/"

MAX_CONTENT_PACKAGE_FILE_SIZE_LIMIT=52428800
MAX_ASSET_FILE_SIZE_LIMIT=20971520
RETRY_ASSET_DOWNLOAD_COUNT=1

lp.tempfile.location="/tmp"
max.iteration.count.samza.job=2
publish.content.limit=200


# Metrics
output.metrics.job.name="publish-pipeline"
output.metrics.topic.name="sunbirddev.pipeline_metrics"

#Failed Topic Config
output.failed.events.topic.name="sunbirddev.learning.events.failed"

telemetry_env="sunbirddev"
installation.id="sunbird"

# Cloud store details
cloud_storage_type="azure"
azure_storage_key="sunbirddev"
azure_storage_secret="XcRoJsGkl8Gq5LpMm9Hnm0AEd3GpCHi7ck1qcdovIcN2VMWIvKiYtOEHHALeIq/5GJ9wrs6DUPszF9mV6tB9Qg=="
azure_storage_container="sunbird-content-dev"

# Configuration for default channel ID
channel.default="in.ekstep"


compositesearch.index.name="compositesearch"
search.es_conn_info="11.2.3.58:9200"
max.thumbnail.size.pixels=150

kp.print.service.base.url="http://11.2.6.6/print"
lp.assessment.tmp_file_location="/tmp/"
lp.assessment.template_name="questionSetTemplate.vm"

# PDF generation for contents linked to ItemSet
itemset.generate.pdf=true
content.streaming_enabled=true

#Configuration added to handle large artifacts
content.artifact.size.for_online=209715200

#Content Type Primary Category mapping
contentTypeToPrimaryCategory="{\"ClassroomTeachingVideo\":\"Explanation Content\",\"ConceptMap\":\"Learning Resource\",\"Course\":\"Course\",\"CuriosityQuestionSet\":\"Practice Question Set\",\"eTextBook\":\"eTextbook\",\"ExperientialResource\":\"Learning Resource\",\"ExplanationResource\":\"Explanation Content\",\"ExplanationVideo\":\"Explanation Content\",\"FocusSpot\":\"Teacher Resource\",\"LearningOutcomeDefinition\":\"Teacher Resource\",\"MarkingSchemeRubric\":\"Teacher Resource\",\"PedagogyFlow\":\"Teacher Resource\",\"PracticeQuestionSet\":\"Practice Question Set\",\"PracticeResource\":\"Practice Question Set\",\"SelfAssess\":\"Course Assessment\",\"TeachingMethod\":\"Teacher Resource\",\"TextBook\":\"Digital Textbook\",\"Collection\":\"Content Playlist\",\"ExplanationReadingMaterial\":\"Learning Resource\",\"LearningActivity\":\"Learning Resource\",\"LessonPlan\":\"Content Playlist\",\"LessonPlanResource\":\"Teacher Resource\",\"PreviousBoardExamPapers\":\"Learning Resource\",\"TVLesson\":\"Explanation Content\",\"OnboardingResource\":\"Learning Resource\",\"ReadingMaterial\":\"Learning Resource\",\"Template\":\"Template\",\"Asset\":\"Asset\",\"Plugin\":\"Plugin\",\"LessonPlanUnit\":\"Lesson Plan Unit\",\"CourseUnit\":\"Course Unit\",\"TextBookUnit\":\"Textbook Unit\"}"
